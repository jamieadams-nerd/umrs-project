


./umrs-shred /absolute/path/to/junk



Advisory Locking:

umrs-shred uses a best-effort advisory lock to serialize destructive operations and preserve a clear, unambiguous audit trail. While concurrent sanitization is not inherently unsafe, overlapping runs can produce interleaved log messages, ambiguous attribution, and confusing operational timelines. Locking ensures that each invocation completes as a discrete, auditable event. Lock files are intentionally placed in per-user runtime locations when running unprivileged (/run/user/<uid>/umrs) and in a dedicated system runtime directory when running as root (/run/umrs). This avoids cross-user interference, respects privilege boundaries, and prevents one user’s activity from blocking another’s authorized work. The lock is advisory, short-lived, automatically released on exit or signal, and is used for operational clarity and auditability rather than as a security control.




Produces two log entries:


When you do not specify a facility or priority, logger uses defaults:

• Facility: user
• Priority: notice

So your current calls effectively mean:

facility=user
priority=notice
tag=umrs-shred



A begin task and then a result message which could be success or fail.

The detail= field is a free field to explain why the action was done. Our choice.

Dec 19 21:23:19 localhost umrs-shred[414011]: ts_utc=2025-12-20T02:23:19Z level=INFO tool=umrs-shred actor=jadams uid=1000 loginuid=1000 selinux=unconfined_u:unconfined_r:unconfined_t:SystemLow-SystemHigh action=sanitize result=BEGIN file=/home/jadams/Development/umrs-project/components/umrs-shred/junk detail=requested

Dec 19 21:23:19 localhost umrs-shred[414025]: ts_utc=2025-12-20T02:23:19Z level=INFO tool=umrs-shred actor=jadams uid=1000 loginuid=1000 selinux=unconfined_u:unconfined_r:unconfined_t:SystemLow-SystemHigh action=sanitize result=SUCCESS file=/home/jadams/Development/umrs-project/components/umrs-shred/junk detail=shred_completed

